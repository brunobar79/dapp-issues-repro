<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>IFRAME</title>
</head>
<body>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
        console.log('IFRAME document ready - ethereum?', window.ethereum);
    });
    
      
    
    window.addEventListener('load', async () => {
      console.log('IFRAME onload- ethereum?', window.ethereum);
      if (window.ethereum) {
        window.web3 = new Web3(ethereum);
        try {
          console.log('IFRAME CALLING ETHEREUM.ENABLE...');
          const accounts = await ethereum.enable();
          console.log('IFRAME got accounts!', accounts);
          window.alert('IFRAME Modern dapp browsers: ' + accounts.toString());
        } catch (error) {
          window.alert('IFRAME User denied account access');
          console.error('IFRAME ERROR:', error);
        }
      }
      else if (window.web3) {
        window.web3 = new Web3(web3.currentProvider);
        window.alert('IFRAME Legacy dapp browsers')
      }
      else {
        window.alert('IFRAME Non-Ethereum browser detected. You should consider trying MetaMask!');
      }
    });
  </script>
</body>
</html>
